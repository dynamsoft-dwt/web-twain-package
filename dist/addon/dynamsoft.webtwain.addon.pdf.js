/*
* Dynamsoft JavaScript Library
* Product: Dynamsoft Web Twain
* Web Site: http://www.dynamsoft.com
*
* Copyright 2018, Dynamsoft Corporation 
* Author: Dynamsoft R&D Department
*
* Version: 14.1
*
* Module: addon/pdf
* final js: build\addon\dynamsoft.webtwain.addon.pdf.js
*/
Dynamsoft.PdfVerForActiveX="10.3.0.710";Dynamsoft.PdfVerInName="10.3.0.0712";var EnumDWT_ConvertMode={CM_DEFAULT:0,CM_RENDERALL:1,CM_AUTO:1};(function(b){if(!b.product.bChromeEdition){return}var a;var c=function(e){var f=b.html5.Funs,d;if(b.env.bMac){a="libDynamicPdf_"+Dynamsoft.PdfVerInName+".dylib"}else{if(b.env.bLinux){a="libDynamicPdf_"+Dynamsoft.PdfVerInName+".so"}else{if(dynamsoft.dcp.b64bit){a="DynamicPdfx64_"+Dynamsoft.PdfVerInName+".dll"}else{a="DynamicPdf_"+Dynamsoft.PdfVerInName+".dll"}}}d={PDF:{IsModuleInstalled:function(){var h=e;var g=h._innerFun("GetAddOnVersion",f.makeParams("pdf",a));if(g!=""){return true}else{return false}},Download:function(l,o,h){var k=e,m;Dynamsoft.Lib.cancelFrome=2;var j=function(){if(Dynamsoft.Lib.isFunction(o)){o()}return true},p=function(){if(Dynamsoft.Lib.isFunction(h)){h(k.ErrorCode,k.ErrorString)}return false};if(!f.checkProductKey(k,{Core:true})){return p()}if(!f.checkProductKey(k,{PDFRasterizer:true},true)){return p()}var g=k._innerFun("GetAddOnVersion",f.makeParams("pdf",a));if(g!=""){j();return true}if(!l||l==""){Dynamsoft.Lib.Errors.Pdf_InvalidRemoteFilename(k);p();return false}if(f.isServerInvalid(k)){p();return false}m="get";Dynamsoft.Lib.showProgress(k,"Download",true);var n=function(q){var r=(q.total===0)?100:Math.round(q.loaded*100/q.total),s=[q.loaded," / ",q.total].join("");k._OnPercentDone([0,r,"","http"])},i=true;k._OnPercentDone([0,-1,"Downloading PDF Rasterizer Module...","http"]);if(!Dynamsoft.Lib.isFunction(o)){i=false}return f.loadHttpBlob(k,m,l,i,function(q){k._OnPercentDone([0,-1,"Loading..."]);var r=100;k.__LoadImageFromBytes(q,r,"",i,j,p)},function(){Dynamsoft.Lib.closeProgress("Download");p()},n)},ConvertToImage:function(j,n,h,k){var l=f.replaceLocalFilename(j);var g="ConvertPDFToImage";var i=function(m){f.hideMask(g);if(h){h()}return true},o=function(m){f.hideMask(g);if(k){k()}return false};f.showMask(g);e._innerSend(g,f.makeParams(l,n),true,i,o);return true},SetPassword:function(g){return e._innerFun("SetPDFPassword",f.makeParams(g))},SetConvertMode:function(g){var h=g;if(h==2){h=EnumDWT_ConvertMode.CM_RENDERALL}if(h==EnumDWT_ConvertMode.CM_RENDERALL){if(!b.html5.Funs.checkProductKey(e,{PDFRasterizer:true},true)){return false}}return e._innerFun("SetPDFConvertMode",f.makeParams(h,a))},GetConvertMode:function(){return e._innerFun("GetPDFConvertMode")},SetResolution:function(g){return e._innerFun("SetPDFResolution",f.makeParams(g))},IsTextBasedPDF:function(g){var h=f.replaceLocalFilename(g);return e._innerFun("IsTextBasedPDF",f.makeParams(h))}}};e.__addon=e.__addon||{};b.mix(e.__addon,d)};if(b.DynamicLoadAddonFuns){b.DynamicLoadAddonFuns.push(c)}})(Dynamsoft.Lib);(function(a){if(!a.product.bPluginEdition&&!a.product.bActiveXEdition){return}var b=function(e){var d=false,c,f;if(e.getSWebTwain()&&e.getSWebTwain().Addon){d=true}if(!d){return false}f=e.getSWebTwain();c={PDF:{IsModuleInstalled:function(){var g=f.GetAddOnVersion("pdf");if(g==Dynamsoft.PdfVerForActiveX){return true}else{return false}},Download:function(k,g,i){var j=f.GetAddOnVersion("pdf");if(j==Dynamsoft.PdfVerForActiveX){if(Dynamsoft.Lib.isFunction(g)){g()}return true}var h=f.DownloadAddon(k);return a.wrapperRet(e,h,g,i)},ConvertToImage:function(h,k,g,j){var i=f.ConvertPDFToImage(h,k);return a.wrapperRet(e,i,g,j)},SetPassword:function(g){var h=f.SetPDFPassword(g);return a.wrapperRet(e,h)},SetConvertMode:function(h){var i=h;if(i==2){i=EnumDWT_ConvertMode.CM_RENDERALL}var g=f.SetPDFConvertMode(i);return a.wrapperRet(e,g)},SetResolution:function(h){var g=f.SetPDFResolution(h);return a.wrapperRet(e,g)},IsTextBasedPDF:function(g){var h=f.IsTextBasedPDF(g);return a.wrapperRet(e,h)}}};e.Addon=e.Addon||{};a.mix(e.Addon,c)};if(a.DynamicLoadAddonFuns){a.DynamicLoadAddonFuns.push(b)}})(Dynamsoft.Lib);
