var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var c=0;return function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var c="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return c?c.call(a):$jscomp.arrayIterator(a)};
$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,a];for(var c=0;c<a.length;++c){var d=a[c];if(d&&d.Math==Math)return d}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,d){a!=Array.prototype&&a!=Object.prototype&&(a[c]=d.value)};$jscomp.polyfill=function(a,c,d,e){if(c){d=$jscomp.global;a=a.split(".");for(e=0;e<a.length-1;e++){var b=a[e];b in d||(d[b]={});d=d[b]}a=a[a.length-1];e=d[a];c=c(e);c!=e&&null!=c&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:c})}};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(a){function c(){this.batch_=null}function d(a){return a instanceof b?a:new b(function(b,d){b(a)})}if(a&&!$jscomp.FORCE_POLYFILL_PROMISE)return a;c.prototype.asyncExecute=function(b){if(null==this.batch_){this.batch_=[];var a=this;this.asyncExecuteFunction(function(){a.executeBatch_()})}this.batch_.push(b)};var e=$jscomp.global.setTimeout;c.prototype.asyncExecuteFunction=function(b){e(b,0)};c.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var b=
this.batch_;this.batch_=[];for(var a=0;a<b.length;++a){var d=b[a];b[a]=null;try{d()}catch(l){this.asyncThrow_(l)}}}this.batch_=null};c.prototype.asyncThrow_=function(b){this.asyncExecuteFunction(function(){throw b;})};var b=function(b){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var a=this.createResolveAndReject_();try{b(a.resolve,a.reject)}catch(g){a.reject(g)}};b.prototype.createResolveAndReject_=function(){function b(b){return function(f){d||(d=!0,b.call(a,f))}}var a=this,d=!1;
return{resolve:b(this.resolveTo_),reject:b(this.reject_)}};b.prototype.resolveTo_=function(a){if(a===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof b)this.settleSameAsPromise_(a);else{a:switch(typeof a){case "object":var d=null!=a;break a;case "function":d=!0;break a;default:d=!1}d?this.resolveToNonPromiseObj_(a):this.fulfill_(a)}};b.prototype.resolveToNonPromiseObj_=function(b){var a=void 0;try{a=b.then}catch(g){this.reject_(g);return}"function"==typeof a?
this.settleSameAsThenable_(a,b):this.fulfill_(b)};b.prototype.reject_=function(b){this.settle_(2,b)};b.prototype.fulfill_=function(b){this.settle_(1,b)};b.prototype.settle_=function(b,a){if(0!=this.state_)throw Error("Cannot settle("+b+", "+a+"): Promise already settled in state"+this.state_);this.state_=b;this.result_=a;this.executeOnSettledCallbacks_()};b.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var b=0;b<this.onSettledCallbacks_.length;++b)f.asyncExecute(this.onSettledCallbacks_[b]);
this.onSettledCallbacks_=null}};var f=new c;b.prototype.settleSameAsPromise_=function(b){var a=this.createResolveAndReject_();b.callWhenSettled_(a.resolve,a.reject)};b.prototype.settleSameAsThenable_=function(b,a){var d=this.createResolveAndReject_();try{b.call(a,d.resolve,d.reject)}catch(l){d.reject(l)}};b.prototype.then=function(a,d){function f(b,a){return"function"==typeof b?function(a){try{c(b(a))}catch(q){k(q)}}:a}var c,k,e=new b(function(b,a){c=b;k=a});this.callWhenSettled_(f(a,c),f(d,k));return e};
b.prototype.catch=function(b){return this.then(void 0,b)};b.prototype.callWhenSettled_=function(b,a){function d(){switch(c.state_){case 1:b(c.result_);break;case 2:a(c.result_);break;default:throw Error("Unexpected state: "+c.state_);}}var c=this;null==this.onSettledCallbacks_?f.asyncExecute(d):this.onSettledCallbacks_.push(d)};b.resolve=d;b.reject=function(a){return new b(function(b,d){d(a)})};b.race=function(a){return new b(function(b,f){for(var c=$jscomp.makeIterator(a),e=c.next();!e.done;e=c.next())d(e.value).callWhenSettled_(b,
f)})};b.all=function(a){var f=$jscomp.makeIterator(a),c=f.next();return c.done?d([]):new b(function(b,a){function e(a){return function(d){k[a]=d;h--;0==h&&b(k)}}var k=[],h=0;do k.push(void 0),h++,d(c.value).callWhenSettled_(e(k.length-1),a),c=f.next();while(!c.done)})};return b},"es6","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.SymbolClass=function(a,c){this.$jscomp$symbol$id_=a;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:c})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};$jscomp.Symbol=function(){function a(d){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(d||"")+"_"+c++,d)}var c=0;return a}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.asyncIterator;a||(a=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};
$jscomp.iteratorFromArray=function(a,c){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var d=0,e={next:function(){if(d<a.length){var b=d++;return{value:c(b,a[b]),done:!1}}e.next=function(){return{done:!0,value:void 0}};return e.next()}};e[Symbol.iterator]=function(){return e};return e};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
var Dynamsoft="undefined"!=typeof Dynamsoft?Dynamsoft:("undefined"!=typeof Dynamsoft?window.Dynamsoft:void 0)||{license:"",workerPathPdfR:"",workerPathPdfW:"",workerPathImgcore:""};Dynamsoft.conststring={core:"core",pdfR:"pdfR",pdfW:"pdfW",core_wasm:"dynamsoft.imagecore-",pdfR_wasm:"dynamsoft.pdfReader-",pdfW_wasm:"dynamsoft.pdfWriter-",binaryBlobType:"application/octet-stream"};Dynamsoft.Enum_ImageType={IT_DIB:-1,IT_RGBA:-2,IT_BMP:0,IT_JPG:1,IT_PNG:3,IT_ALL:5};
Dynamsoft.Enum_ReturnType={RT_AUTO:-1,RT_BINARY:1,RT_BASE64:2};Dynamsoft.Enum_ErrorMessage={PARAMETER_TYPE_ERROR:"Parameter Type not Supported: ",TIMEOUT:"Timeout no Response: ",FILE_STREAM_ERROR:"File Stream Error: "};var Dynmasoft=Dynamsoft||{};Dynamsoft.Lib=Dynamsoft.Lib||{};Dynamsoft.Lib.env=Dynamsoft.Lib.env||{};Dynamsoft.b64ToUint6=function(a){return 64<a&&91>a?a-65:96<a&&123>a?a-71:47<a&&58>a?a+4:43===a?62:47===a?63:0};
Dynamsoft.base64DecToArr=function(a,c){a=a.replace(/[^A-Za-z0-9\+\/]/g,"");var d=a.length;c=c?Math.ceil((3*d+1>>>2)/c)*c:3*d+1>>>2;for(var e=new Uint8Array(c),b,f=0,k=0,h=0;h<d;h++)if(b=h&3,f|=Dynamsoft.b64ToUint6(a.charCodeAt(h))<<18-6*b,3===b||1===d-h){for(b=0;3>b&&k<c;b++,k++)e[k]=f>>>(16>>>b&24)&255;f=0}return e};
Dynamsoft.isWasmSupport=function(){try{if("object"===typeof WebAssembly&&"function"===typeof WebAssembly.instantiate){var a=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));if(a instanceof WebAssembly.Module)return new WebAssembly.Instance(a)instanceof WebAssembly.Instance}}catch(c){}return!1};Dynamsoft.random=function(){return(Date.now()%10086).toString(36).slice(2)+Math.random().toString(36).slice(2)};
Dynamsoft.readFile=function(a){return new Promise(function(c,d){var e=Object.prototype.toString.call(a);if("[object String]"===e)0===a.indexOf("blob:")||0<a.indexOf(".jpg")||0<a.indexOf(".jpeg")||0<a.indexOf(".png")||0<a.indexOf(".bmp")||0<a.indexOf(".dib")||0<a.indexOf(".pdf")||0<a.indexOf(".tiff")||0<a.indexOf(".tif")?fetch(a,{mode:"cors"}).then(function(b){return b.arrayBuffer()}).then(function(b){return c(b)}).catch(function(b){return Promise.reject(b)}):d("Error url: Can not read the file URL");
else if("[object Blob]"===e){var b=new FileReader;b.readAsArrayBuffer(a);b.onload=function(){var a=b.result;b=null;c(a)}}else"[object FileList]"===e||"[object File]"===e?(d=a[0]?a[0]:a,b=new FileReader,b.readAsArrayBuffer(d),b.onload=function(){var a=b.result;b=null;c(a)}):"[object ArrayBuffer]"===e||"[object Uint8ClampedArray]"===e?c(a):d("Not support source type: "+e)})};
Dynamsoft.base64Decode=function(a){function c(a){var b=[],d=a.length,c;for(c=0;c<d;c++){var e=a.charCodeAt(c);if(0==(e>>7&255))b.push(a.charAt(c));else if(6==(e>>5&255)){var g=a.charCodeAt(++c);e=(e&31)<<6;g&=63;e|=g;b.push(String.fromCharCode(e))}else if(14==(e>>4&255)){g=a.charCodeAt(++c);var l=a.charCodeAt(++c);e=e<<4|g>>2&15;g=(g&3)<<6|l&63;e=(e&255)<<8|g;b.push(String.fromCharCode(e))}}return b.join("")}var d=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,
-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1];return function(a){for(var b=[],f=0,e=a.length,h,g;f<e;){do h=d[a.charCodeAt(f++)&255];while(f<e&&-1==h);if(-1==h)break;do g=d[a.charCodeAt(f++)&255];while(f<e&&-1==g);if(-1==g)break;b.push(String.fromCharCode(h<<
2|(g&48)>>4));do{h=a.charCodeAt(f++)&255;if(61==h)return c(b.join(""));h=d[h]}while(f<e&&-1==h);if(-1==h)break;b.push(String.fromCharCode((g&15)<<4|(h&60)>>2));do{g=a.charCodeAt(f++)&255;if(61==g)return c(b.join(""));g=d[g]}while(f<e&&-1==g);if(-1==g)break;b.push(String.fromCharCode((h&3)<<6|g))}return c(b.join(""))}(a)};Dynamsoft.conststring=Dynamsoft.conststring||{};Dynamsoft.conststring.auto="auto";Dynamsoft.conststring.logInfo="logInfo";Dynamsoft.conststring.logDebug="logDebug";
Dynamsoft.conststring.logAll="logAll";Dynamsoft.conststring.initPending="pending";Dynamsoft.conststring.initReady="ready";Dynamsoft.error=Dynamsoft.error||{};Dynamsoft.error.code=Dynamsoft.error.code||{};Dynamsoft.error.code.wasmJsBase=-4100;Dynamsoft.error.code.wasmJsObjectNotInit=Dynamsoft.error.code.wasmJsBase-1;Dynamsoft.error.code.wasmJsObjectTerminated=Dynamsoft.error.code.wasmJsBase-1;Dynamsoft.error.code.wasmJsObjectInitFailed=Dynamsoft.error.code.wasmJsBase-1;
Dynamsoft.error.code.wasmJsNotLoaded=Dynamsoft.error.code.wasmJsBase-1;Dynamsoft.error.code.wasmJsInvalidJson=Dynamsoft.error.code.wasmJsBase-1;Dynamsoft.error.code.wasmJsWorkerRunException=Dynamsoft.error.code.wasmJsBase-1;Dynamsoft.error.code.wasmJsWorkerRunFailed=Dynamsoft.error.code.wasmJsBase-1;Dynamsoft.error.code.wasmJsReadFileFailed=Dynamsoft.error.code.wasmJsBase-1;Dynamsoft.error.code.wasmJsCoreTaskException=Dynamsoft.error.code.wasmJsBase-1;
Dynamsoft.error.code.wasmJsProcTaskException=Dynamsoft.error.code.wasmJsBase-1;Dynamsoft.error.code.wasmJsSavePdfFailed=Dynamsoft.error.code.wasmJsBase-1;Dynamsoft.error.code.wasmJsSaveTiffFailed=Dynamsoft.error.code.wasmJsBase-1;
Dynamsoft.WasmEnv={imgCore:{name:Dynamsoft.conststring.core,loader:Dynamsoft.conststring.auto,ver:"1.5.9",inited:!1},pdfReader:{name:Dynamsoft.conststring.pdfR,loader:"",ver:"1.4.10",inited:!1},pdfWriter:{name:Dynamsoft.conststring.pdfW,loader:"",ver:"1.4.1",inited:!1},lastInstanceId:0,worker:{maxWorkers:1,liveTime:60},resourceDir:Dynamsoft.WebTwainEnv.ResourcesPath+"/src/",wasmJS:"Dynamsoft.imageio_wasm-1.6.1.js",logLevel:Dynamsoft.WebTwainEnv.Debug?Dynamsoft.conststring.logDebug:0,logFunc:null,
productKey:""};Dynamsoft.WasmEnv.log=function(a,c){var d=Dynamsoft.WasmEnv;d.logLevel===c&&("function"===typeof d.logFunc?d.logFunc(a):console.log(a))};Dynamsoft.WasmEnv.clear=function(){Dynamsoft.WasmEnv.imgCore.inited=!1;Dynamsoft.WasmEnv.pdfReader.inited=!1;Dynamsoft.WasmEnv.pdfWriter.inited=!1};Dynamsoft.WasmEnv.setLoglevel=function(a,c){Dynamsoft.WasmEnv.logLevel=1===a?Dynamsoft.conststring.logDebug:0;Dynamsoft.WasmEnv.logFunc=c};
Dynamsoft.WorkerHandler=function(a,c){function d(b){e.terminated=!0;e.terminating&&e.terminationHandler&&e.terminationHandler(e);e.terminating=!1;e.cancelAllTasks()}var e=this;this.options=c||{};this.script=a;this.worker=function(b){if("function"!==typeof Worker&&("object"!==typeof Worker||"function"!==typeof Worker.prototype.constructor))throw Error("Web Workers not supported");b=new Worker(b);b.on=function(b,a){this.addEventListener(b,function(b){a(b.data)})};b.send=function(b){this.postMessage(b)};
return b}(this.script);this.requestQueue=[];e.tasks=Object.create(null);this.objectToError=function(b){for(var a=Error(""),d=Object.keys(b),c=0;c<d.length;c++)a[d[c]]=b[d[c]];return a};this.dispatchQueuedRequests=function(){e.requestQueue.forEach(e.worker.send.bind(e.worker));e.requestQueue=[]};this.dispatchRequest=function(b){b.forEach(e.worker.send.bind(e.worker))};this.worker.on("message",function(b){"function"===typeof e.options.log&&e.options.log(b.log?b.log:b,e.context);if("string"===typeof b&&
"ready"===b)e.worker.ready=!0,e.dispatchQueuedRequests();else if(!b.log){var a=b.id,d=e.tasks[a];void 0!==d&&(delete e.tasks[a],!0===e.terminating&&e.terminate(),"loadWasm"===b.func&&void 0!=b.result&&(e.worker.wasmReady=!0,e.dispatchQueuedRequests()),b.error?d.resolver.reject(e.objectToError(b.error)):b.result&&d.resolver.resolve(b.result))}});this.worker.on("error",d);this.worker.on("exit",function(a,c){a="Worker terminated Unexpectedly\n exitCode: `"+(a+"`\n signalCode: `")+(c+"`\n script: `")+
(e.script+"`\n");d(Error(a))});this.terminated=this.terminating=!1;this.terminationHandler=null;this.lastTaskId=0};
Dynamsoft.WorkerHandler.prototype.exec=function(a,c,d){d||(d={},d.promise=new Promise(function(a,c){d.resolve=a;d.reject=c}));var e=++this.lastTaskId;this.tasks[e]={id:e,resolver:d};c={id:e,func:a,params:c};this.terminated?d.reject(Error("Worker is terminated")):this.terminating?d.reject(Error("Worker is terminating")):this.worker.wasmReady||this.worker.ready&&"loadWasm"===a?this.worker.send(c):this.requestQueue.push(c);return d.promise};
Dynamsoft.WorkerHandler.prototype.busy=function(){return 0<this.howManyTasks()};Dynamsoft.WorkerHandler.prototype.howManyTasks=function(){return Object.keys(this.tasks).length};Dynamsoft.WorkerHandler.prototype.cancelAllTasks=function(a){for(var c in this.tasks)void 0!==this.tasks[c]&&this.tasks[c].resolver.reject(Error(a));this.tasks=Object.create(null)};
Dynamsoft.WorkerHandler.prototype.terminate=function(a,c){a&&this.cancelAllTasks("Worker terminated");"function"===typeof c&&(this.terminationHandler=c);if(this.busy())this.terminating=!0;else{if(this.worker){if("function"===typeof this.worker.terminate)this.worker.terminate();else throw Error("Failed to terminate worker");this.worker=null}this.terminating=!1;this.terminated=!0;this.terminationHandler&&this.terminationHandler(this)}};
Dynamsoft.WorkerHandler.prototype.setLogCallback=function(a,c){this.options.log=a;this.context=c};
Dynamsoft.WorkerPool=function(a,c){var d=this;this.workers=[];this.options=a;this.maxWorkers=1;this.script=this.options.resourceDir+this.options.wasmJS;this.ready=!1;this.pdfReaderInstance=null;this.terminated=!1;this._setInitStatus=function(a,c){if("object"!=typeof a)return d.log(a),!1;-1!=a.indexOf(d.options.imgCore.name)&&(d.options.imgCore.inited=!0,c.modules[d.options.imgCore.name]=!0);-1!=a.indexOf(d.options.pdfReader.name)&&(d.options.pdfReader.inited=!0,c.modules[d.options.pdfReader.name]=
!0);-1!=a.indexOf(d.options.pdfWriter.name)&&(d.options.pdfWriter.inited=!0,c.modules[d.options.pdfWriter.name]=!0)};this._getMaxWorkers=function(){var a=2;"hardwareConcurrency"in self.navigator&&(a=self.navigator.hardwareConcurrency);return Math.max(Math.min(d.options.worker.maxWorkers,Math.max(d.options.worker.maxWorkers,a/2)),1)};this._logAll=function(a){Dynamsoft.WasmEnv.log(a,Dynamsoft.conststring.logAll)};this._log=function(a,d){Dynamsoft.WasmEnv.log(a,Dynamsoft.conststring.logDebug)};this._createWorker=
function(){d.ready&&(d.maxWorkers=d._getMaxWorkers());var a=d.workers;if(a.length<d.maxWorkers)try{return e=new Dynamsoft.WorkerHandler(d.script),a.push(e),e.id=a.length,e.ref=1,e.modules=[],e.instances=Object.create(null),e.setLogCallback(this._log,d),d._logAll(a),d.log("get new worker "+e.id+" succeed!"),e}catch(f){d.log(f),d.log("get worker failed!")}return null};this._getContainedModuleWorkers=function(a){d._removeTerminatedWorker();var b=d.workers;d._logAll(b);for(var c=[],e=0;e<b.length;e++){var g=
b[e];0!==g.ref||!g.modules[a.name]||g.busy()&&b.length<d.maxWorkers||c.push(g)}d._logAll("get workers for module "+a.name);d._logAll(c);return c};this._acquireIdleWorker=function(){d._removeTerminatedWorker();for(var a=d.workers,c=0;c<a.length;c++){var e=a[c];if(0===e.ref&&!1===e.busy())return e.ref++,e}return d._createWorker()};this._removeTerminatedWorker=function(){d.workers=d.workers.filter(function(a){return!a.terminated})};this._getWorkerByIntanceId=function(a,c){d._logAll("_getWorkerByIntanceId");
d._logAll(a);for(var b=9007199254740991,f=null,e=0;e<a.length;e++){var l=a[e];if(void 0!=l.instances[c]){f=l;break}else{var n=l.howManyTasks();n<b&&(f=l,b=n)}}if(f)return f.instances[c]="",d._logAll(a),d.log("get worker "+c+" in "+f.id+" succeed!"),f;d._logAll("_getWorkerByIntanceId: no suitable worker");return null};this._initWorkerInner=function(a,c,e){try{a.exec(c.func,c.params).then(function(b){void 0===b.errorCode?d._setInitStatus(b,a):d.log(b);d._releaseWorker(a);e()}).catch(function(b){d.log(b);
d._releaseWorker(a);e()})}catch(h){d.log(h),d._releaseWorker(a),e()}};this._initWorker=function(a,c,e){d._initWorkerInner(a,{id:0,func:"loadWasm",params:{priority:0,key:d.options.productKey,modules:[{name:e.name,ver:e.ver,wasmModule:c}]}},function(){})};this._releaseWorker=function(a){d._logAll("releaseWorker");d._logAll(d.workers);for(var b=d.workers,c=0;c<b.length;c++){var e=b[c];if(e===a){e.ref--;d._logAll(b);d.log("release worker "+e.id+" succeed!");break}}};this._removeInstanceInWorker=function(a,
c){var b=d.workers;d._logAll("removeInstanceInWorker");d._logAll(b);for(var e=0;e<b.length;e++){var f=b[e];if(f===a){void 0!=f.instances[c]?(delete f.instances[c],d._logAll(b),d.log("removeInstanceInWorker "+c+" in "+f.id+" succeed!")):d.log("not found instance "+c);break}}};this._getWorker=function(a,c){var b=d._getContainedModuleWorkers(a);if(0!=b.length)return d._getWorkerByIntanceId(b,c);var e=d._acquireIdleWorker();if(e){if(e.modules[a.name])return e;if(d.options.loadedInMainThread)return Dynamsoft.WasmInit.wasmModules[a.name].wasmModule?
d._initWorker(e,Dynamsoft.WasmInit.wasmModules[a.name].wasmModule,a):d._releaseWorker(e),null;c=d.workers;for(b=0;b<c.length;b++)if(e!=c[b]&&c[b].modules[a.name])return c[b].exec("getWasm",{key:d.options.productKey,moduleName:a.name,priority:0}).then(function(b){void 0===b.errorCode?void 0!=b.wasmModule?d._initWorker(e,b.wasmModule,a):d._releaseWorker(e):(d._releaseWorker(e),d.log(b))}).catch(function(a){d._releaseWorker(e);d.log(a)}),null;d._logAll("no loaded wasm found");d._initWorker(e,null,a)}return null};
if(c&&0<c.params.modules.length){var e=d._createWorker();e&&(e.setLogCallback(function(a,d){d.log(a)},d),c.params.callback=null,d._initWorkerInner(e,c,function(a){d.maxWorkers=d._getMaxWorkers();d.ready=!0}))}else d.maxWorkers=d._getMaxWorkers(),d.ready=!0};
Dynamsoft.WorkerPool.prototype.getWorker=function(a,c){var d=a.name===Dynamsoft.WasmEnv.pdfReader.name;if(d&&this.pdfReaderInstance)return null;if((a=this._getWorker(a,c))&&d){if(this.pdfReaderInstance)return this._removeInstanceInWorker(a,c),null;this.pdfReaderInstance=c}return a};Dynamsoft.WorkerPool.prototype.removeInstanceInWorker=function(a,c,d){this._removeInstanceInWorker(c,d);a.name===Dynamsoft.WasmEnv.pdfReader.name&&this.pdfReaderInstance&&(this.pdfReaderInstance=null)};
Dynamsoft.WorkerPool.prototype.log=function(a){Dynamsoft.WasmEnv.log(a,Dynamsoft.conststring.logDebug)};Dynamsoft.WorkerPool.prototype.terminate=function(a){var c=this;c.terminated=!0;var d=function(a){a=c.workers.indexOf(a);-1!==a&&c.workers.splice(a,1)}.bind(c),e=[];c.workers.slice().forEach(function(b){var c={};c.promise=new Promise(function(a,b){c.resolve=a;c.reject=b});e.push(c.promise);b.terminate(a,function(a){c.resolve(a)});d()});return Promise.all(e)};
Dynamsoft.WasmEnv.load=function(){var a=Dynamsoft.WasmEnv;a.clear();var c={id:0,func:"loadWasm",params:{priority:0,key:"",modules:[],callback:function(c){a.logLevel===Dynamsoft.conststring.logDebug&&("function"===typeof a.logFunc?a.logFunc(c):console.log(c))}}};a.imgCore.loader==Dynamsoft.conststring.auto&&c.params.modules.push({name:a.imgCore.name,ver:a.imgCore.ver});a.pdfReader.loader==Dynamsoft.conststring.auto&&c.params.modules.push({name:a.pdfReader.name,ver:a.pdfReader.ver});a.pdfWriter.loader==
Dynamsoft.conststring.auto&&c.params.modules.push({name:a.pdfWriter.name,ver:a.pdfWriter.ver});a.loadedInMainThread&&(Dynamsoft.WasmInit.clear(),Dynamsoft.WasmInit.loadWasm(c).then(function(c){Dynamsoft.WasmInit.wasmModules[a.imgCore.name].wasmModule&&(a.imgCore.inited=!0);Dynamsoft.WasmInit.wasmModules[a.pdfReader.name].wasmModule&&(a.pdfReader.inited=!0);Dynamsoft.WasmInit.wasmModules[a.pdfWriter.name].wasmModule&&(a.pdfWriter.inited=!0)}).catch(function(a){console.error(a)}),c=null);Dynamsoft.WorkerPool.Instance=
null;Dynamsoft.WorkerPool.Instance=new Dynamsoft.WorkerPool(a,c)};Dynamsoft.WasmEnv.unload=function(){var a=Dynamsoft.WorkerPool.Instance;return void 0!=a?a.terminate(!0):Promise.resolve()};Dynamsoft.WasmEnv.getWorkerPool=function(){var a=Dynamsoft.WorkerPool.Instance;return a&&a.terminated?null:a};
Dynamsoft.ImageIoBase=function(a,c,d,e){var b=this;this.moduleInfo=c;this.name=this.moduleInfo.name;this.subName=this.subName||"";this.outputType=Dynamsoft.Enum_ImageType.IT_JPG;this.inputType=Dynamsoft.Enum_ImageType.IT_ALL;this.tiffFormat=0;this.jpegQuality=80;this.tasksQueue=[];this.worker=null;this.lastTaskId=0;this.logFunc=d;this.context=e;this.instanceId=++Dynamsoft.WasmEnv.lastInstanceId;this.timer=null;this.nv=JSON.parse(JSON.stringify(Dynamsoft.navInfo));this.mb=Dynamsoft.Lib.env.bMobile;
this.dm=location.origin;this.initStatus="";this.license=a?a:Dynamsoft.license;this.license||(this.license="");this._getWorker=function(){b.timer&&clearTimeout(b.timer);if(b.worker)return b.worker;var a=Dynamsoft.WasmEnv.getWorkerPool();if(a)return b.worker=a.getWorker(b.moduleInfo,b.instanceId),b.worker?0<b.tasksQueue.length&&b._dispatchQueuedTasks():0<b.tasksQueue.length&&(b.timer=setTimeout(b._getWorker,50)),b.worker;b._cancelAllTasks(Dynamsoft.error.code.wasmJsNotLoaded,"wasm env not loaded")};
this._dispatchQueuedTasks=function(){b._logAll(b.tasksQueue,b);if(b.worker){if(0<b.tasksQueue.length){var a=b.tasksQueue[0];if(b.initStatus===Dynamsoft.conststring.initReady||"init"===a.func)delete b.tasksQueue[0],b.tasksQueue.splice(0,1),b._exec(a)}}else 0<b.tasksQueue.length&&b._getWorker()};this._log=function(a,b){"function"===typeof b.logFunc?b.logFunc(a,b.context):Dynamsoft.WasmEnv.log(a,Dynamsoft.conststring.logDebug)};this._logAll=function(a,b){Dynamsoft.WasmEnv.logLevel===Dynamsoft.conststring.logAll&&
this._log(a,b)};this._handleReject=function(a,b,c){var d=b;"object"!=typeof d&&(d={},d.errorCode=c,d.errorMessage=b);return a.reject(d)};this._handleBasicResult=function(a,b){delete a.errorCode;delete a.errorMessage;return a};this._handleBooleanResult=function(a,b){return!0};this._handleImageData=function(a,b){return a};this._handleResult=function(a,c){a=c.context._getResult(a);void 0===a.errorCode||!a.errorCode&&"Successful."===a.errorMessage?(a=c.handleResult(a,c),b._dispatchQueuedTasks(),c=c.resolve,
c(a)):c.reject({errorCode:a.errorCode,errorMessage:a.errorMessage})};this._getResult=function(a){try{return"string"===typeof a?JSON.parse(a):a}catch(k){return a}};this._exec=function(a){var b=this,c=b.worker;c.setLogCallback(b._log,b);b._logAll(a,b);try{c.exec(a.func,a.params).then(function(c){b._log(c,b);b._handleResult(b._getResult(c),a)}).catch(function(c){b._log(c,b);b._dispatchQueuedTasks();var d=c;"object"===typeof c&&(void 0!=c.errorMessage?d=c.errorMessage:void 0!=c.message&&(d=c.message));
a.reject({errorCode:Dynamsoft.error.code.wasmJsWorkerRunFailed,errorMessage:d})})}catch(g){b._dispatchQueuedTasks(),b._log(g,b),a.reject({errorCode:Dynamsoft.error.code.wasmJsWorkerRunException,errorMessage:g.message,stack:g.stack})}};this._cancelAllTasks=function(a,b){for(var c=0;c<this.tasksQueue.length;c++)void 0!==this.tasksQueue[c]&&this.tasksQueue[c].reject({errorCode:a,errorMessage:b});this.tasksQueue=[]};this._createTask=function(a,b,c){var d={id:++this.lastTaskId};d.promise=new Promise(function(a,
b){d.resolve=a;d.reject=b});d.func=a;d.params={moduleName:this.name,subName:this.subName,insId:this.instanceId};d.context=this;d.handleResult="undefined"!==typeof c&&c?c:this._handleBasicResult;d.params.input="undefined"!==typeof b&&b?b:"";d.params.returnType="";return d};this._addTask=function(a){""===this.initStatus?a.reject({errorCode:Dynamsoft.error.code.wasmJsObjectNotInit,errorMessage:"object not init or terminated"}):(b.tasksQueue.push(a),b._dispatchQueuedTasks());return a.promise};this._init=
function(){var b=this._createTask("init");b.params.key=a;b.params.val={nv:this.nv,mb:this.mb,dm:this.dm};b.handleResult=function(a,b){b.context.initStatus=Dynamsoft.conststring.initReady;return a};this.initStatus=Dynamsoft.conststring.initPending;this._addTask(b);return b.promise};this._destroy=function(){var a=this._createTask("destroy");this._addTask(a);return a.promise};this._terminate=function(){this._destroy().then(function(a){var c=Dynamsoft.WasmEnv.getWorkerPool();c&&c.removeInstanceInWorker(b.moduleInfo,
b.worker,b.instanceId);b.worker=null;b._log(b.name+" destroy return: ",b);b._log(a,b)}).catch(function(a){var c=Dynamsoft.WasmEnv.getWorkerPool();c&&c.removeInstanceInWorker(b.moduleInfo,b.worker,b.instanceId);b.worker=null;b._log(b.name+" destroy failed",b);b._log(a,b)});this.initStatus=""};this._readFile=function(a,c){return new Promise(function(d,e){Dynamsoft.readFile(a).then(function(a){d(a)},function(a){b._handleReject(c,a,Dynamsoft.error.code.wasmJsReadFileFailed)}).catch(function(a){b._handleReject(c,
a,Dynamsoft.error.code.wasmJsReadFileFailed)})})};this._init().then(function(a){b._log(b.name+" init return: ",b);b._log(a,b)}).catch(function(a){b._log(b.name+" init failed",b);b._log(a,b);b._cancelAllTasks(Dynamsoft.error.code.wasmJsObjectInitFailed,a.errorMessage)})};Dynamsoft.ImageIoBase.prototype.terminate=function(){this._terminate()};
Dynamsoft.ImageIoBase.prototype.downloadData=function(a,c,d,e){a=a?a:Date.now()+"";return(new Promise(function(b,f){if(c){if("base64"===d){var k=Dynamsoft.base64DecToArr(c).buffer;k=new Blob([k],{type:"pdf"==e?"application/pdf":"jpg"==e?"image/jpeg":"image/"+e});k=URL.createObjectURL(k)}else"blob"===d?k=c:f(Dynamsoft.Enum_ErrorMessage.FILE_STREAM_ERROR+"Please read/write image or get page before download!");a=a+"."+e;window.navigator.msSaveBlob&&fetch(k).then(function(a){return a.arrayBuffer()}).then(function(c){c=
new Blob([c]);window.navigator.msSaveOrOpenBlob(c,a);b(a)});f=document.createElement("a");f.href=k;f.download=a;f.click();b(a)}else f(Dynamsoft.Enum_ErrorMessage.FILE_STREAM_ERROR+"Please read/write image or get page before download!")})).catch(function(a){return Promise.reject(a)})};
Dynamsoft.Imagecore=function(a,c,d){this.subName=Dynamsoft.WasmEnv.imgCore.name;Dynamsoft.ImageIoBase.call(this,a,Dynamsoft.WasmEnv.imgCore,c,d);this.saveImageInner=function(a,b,c,d,h,g,l,n,p,m){var e=this;b=b?b:this.inputType;c=c?c:0;d=d?d:0;h=h?h:24;g=g?g:96;l=l?l:96;p=p?p:this.jpegQuality;m=m?m:Dynamsoft.Enum_ReturnType.RT_AUTO;e=this;var f=e._createTask("SaveImage");e._readFile(a,f).then(function(a){f.params.input=[a,b,c,d,h,g,l,n,p,m==Dynamsoft.Enum_ReturnType.RT_BASE64];f.params.returnType=
m;f.handleResult=e._handleImageData;e._addTask(f)});return f.promise}};Dynamsoft.Imagecore.prototype=Object.create(Dynamsoft.ImageIoBase.prototype);Dynamsoft.Imagecore.prototype.constructor=Dynamsoft.Imagecore;Dynamsoft.Imagecore.prototype.getImageFormat=function(a){var c=this,d=c._createTask("GetImageFormat");c._readFile(a,d).then(function(a){d.params.input=a;c._addTask(d)});return d.promise};
Dynamsoft.Imagecore.prototype.readImageInfo=function(a){var c=this,d=c._createTask("ReadImageInfo");c._readFile(a,d).then(function(a){d.params.input=a;c._addTask(d)});return d.promise};Dynamsoft.Imagecore.prototype.getMD5=function(a){var c=this,d=c._createTask("GetMD5");c._readFile(a,d).then(function(a){d.params.input=a;d.handleResult=function(a,c){return a.MD5};c._addTask(d)});return d.promise};Dynamsoft.Imagecore.prototype.getLicenseInfo=function(){return this._addTask(this._createTask("GetLicenseInfo"))};
Dynamsoft.Imagecore.prototype.saveImage=function(a,c,d,e){return this.saveImageInner(a,null,null,null,null,null,null,c,d,e?Dynamsoft.Enum_ReturnType.RT_BINARY:Dynamsoft.Enum_ReturnType.RT_AUTO)};Dynamsoft.Imagecore.prototype.readImage=function(a,c,d,e){c=c?c:this.outputType;d=d?d:this.jpegQuality;e=e?e:this.returnImageAsBase64;var b=this,f=b._createTask("ReadImage");b._readFile(a,f).then(function(a){f.params.input=[a,c,d,e];f.handleResult=b._handleImageData;b._addTask(f)});return f.promise};
Dynamsoft.Imagecore.prototype.openTiff=function(a){var c=this,d=c._createTask("LoadTiff");c._readFile(a,d).then(function(a){d.params.input=a;c._addTask(d)});return d.promise};Dynamsoft.Imagecore.prototype.readTiff=function(a,c,d){c=c?c:this.outputType;d=d?d:this.returnImageAsBase64;return this._addTask(this._createTask("ReadTiffPage",[a?a:0,c,d],this._handleImageData))};Dynamsoft.Imagecore.prototype.closeTiff=function(){return this._addTask(this._createTask("EndReadTiff",null,this._handleBooleanResult))};
Dynamsoft.Imagecore.prototype.createTiff=function(){return this._addTask(this._createTask("NewTiff",null,this._handleBooleanResult))};Dynamsoft.Imagecore.prototype.appendImage=function(a,c,d,e){c=c?c:this.inputType;d=d?d:this.tiffFormat;e=e?e:this.jpegQuality;var b=this,f=b._createTask("AppendImageToTiff");b._readFile(a,f).then(function(a){f.params.input=[a,c,d,e];f.handleResult=b._handleBooleanResult;b._addTask(f)});return f.promise};
Dynamsoft.Imagecore.prototype.addTag=function(a,c,d){return this._addTask(this._createTask("AddTagToNextPage",[a,c,d?!1:!0],this._handleBooleanResult))};Dynamsoft.Imagecore.prototype.getTiff=function(a){var c=this._createTask("GetTiffStream");c.handleResult=this._handleImageData;c.params.returnType=a?Dynamsoft.Enum_ReturnType.RT_BINARY:Dynamsoft.Enum_ReturnType.RT_AUTO;return this._addTask(c)};Dynamsoft.ImageProc=function(a,c,d){Dynamsoft.ImageIoBase.call(this,a,Dynamsoft.WasmEnv.imgCore,c,d)};
Dynamsoft.ImageProc.prototype=Object.create(Dynamsoft.ImageIoBase.prototype);Dynamsoft.ImageProc.prototype.constructor=Dynamsoft.ImageProc;
Dynamsoft.ImageProc.prototype.initImage=function(a,c,d,e){c=c?!0:!1;d=d?d:0;e=e?e:0;var b=this,f=b._createTask("InitImageObject");f.handleResult=this._handleBooleanResult;f.params.input=[a,d,e];c?(f.params.input.push(Dynamsoft.Enum_ImageType.IT_RGBA),b._addTask(f)):b._readFile(a,f).then(function(a){f.params.input[0]=a;f.params.input.push(Dynamsoft.Enum_ImageType.IT_ALL);b._addTask(f)});return f.promise};
Dynamsoft.ImageProc.prototype.rotate=function(a,c,d,e){return this._addTask(this._createTask("RotateEx",[a,d?!0:!1,e?e:3,c?c:"FFFFFF"],this._handleBooleanResult))};Dynamsoft.ImageProc.prototype.flip=function(a){a=a?a:1;var c=this._createTask("");c.handleResult=this._handleBooleanResult;1===a?c.func="Flip":-1===a&&(c.func="Mirror");this._addTask(c);return c.promise};
Dynamsoft.ImageProc.prototype.erase=function(a,c,d,e,b){b=b?b:"FFFFFF";var f=this._createTask("Erase");f.handleResult=this._handleBooleanResult;f.params.input=[a,c,d,e,b];this._addTask(f);return f.promise};Dynamsoft.ImageProc.prototype.crop=function(a,c,d,e){return this._addTask(this._createTask("Crop",[a,c,d,e],this._handleBooleanResult))};Dynamsoft.ImageProc.prototype.resize=function(a,c,d){return this._addTask(this._createTask("ChangeImageSize",[a,c,d?d:5],this._handleBooleanResult))};
Dynamsoft.ImageProc.prototype.toGrayscale=function(a,c){return this._addTask(this._createTask("ConvertToGrayScale",a+";"+c,this._handleBooleanResult))};Dynamsoft.ImageProc.prototype.toBinary=function(a,c,d){return this._addTask(this._createTask("ConvertToBWScale",a+";"+c+";"+d,this._handleBooleanResult))};Dynamsoft.ImageProc.prototype.invert=function(){return this._addTask(this._createTask("Invert",null,this._handleBooleanResult))};
Dynamsoft.ImageProc.prototype.setImageWidth=function(a,c){return this._addTask(this._createTask("SetImageWidth",[a,c?c:"FFFFFF"],this._handleBooleanResult))};Dynamsoft.ImageProc.prototype.setImageHeight=function(a,c){return this._addTask(this._createTask("SetImageHeight",[a,c?c:"FFFFFF"],this._handleBooleanResult))};Dynamsoft.ImageProc.prototype.setDPI=function(a,c,d,e,b,f){return this._addTask(this._createTask("SetDPI",[a,c,d,e,b?b:!1,f],this._handleBooleanResult))};
Dynamsoft.ImageProc.prototype.getImage=function(a,c){a=a?a:this.jpegQuality;return this._addTask(this._createTask("GetCurrentImage",[Dynamsoft.Enum_ImageType.IT_ALL,0,0,0,!1,a,c?c:!0]))};Dynamsoft.ImageProc.prototype.getSkewAngle=function(a){return this._addTask(this._createTask("GetSkewAngle",[a?a:""],function(a,d){return a.skewAngle}))};Dynamsoft.ImageProc.prototype.freeReservedData=function(){return this._addTask(this._createTask("FreeReservedData",null,this._handleBooleanResult))};
Dynamsoft.ImageProcWrapper={};Dynamsoft.ImageProcWrapper.resize=function(a,c,d,e){var b=new Dynamsoft.ImageProc(Dynamsoft.WasmEnv.productKey);return b.initImage(a).then(function(){var a=c>d?c/e:d/e;return b.resize(c/a,d/a,5)}).then(function(){return b.getImage()}).then(function(a){setTimeout(function(){b.terminate()},30);return a},function(a){setTimeout(function(){b.terminate()},30);return a})};
Dynamsoft.PdfReader=function(a,c,d){Dynamsoft.ImageIoBase.call(this,a,Dynamsoft.WasmEnv.pdfReader,c,d);this.resolution=200;this.readMode=3;this.outputType=Dynamsoft.Enum_ImageType.IT_ALL};Dynamsoft.PdfReader.prototype=Object.create(Dynamsoft.ImageIoBase.prototype);Dynamsoft.PdfReader.prototype.constructor=Dynamsoft.PdfReader;
Dynamsoft.PdfReader.prototype.open=function(a,c){c=c?c:"";var d=this,e=d._createTask("LoadPdf");d._readFile(a,e).then(function(a){e.params.input=[a,c];e.handleResult=function(a,b){var c=Dynamsoft.base64Decode(a.infoBase64);try{var d=JSON.parse(c);return{PdfCount:a.pageCount,PdfInfo:d,isTextBased:a.isTextBased}}catch(l){b.reject({errorCode:Dynamsoft.error.code.wasmJsInvalidJson,errorMessage:l.message,stack:l.stack})}};d._addTask(e)});return e.promise};
Dynamsoft.PdfReader.prototype.readPage=function(a,c,d,e,b,f){c=c?c:this.resolution;d=d?d:this.readMode;e=e?e:this.outputType;f=f?f:this.returnImageAsBase64;return this._addTask(this._createTask("ReadPdfPage",[a?a:0,c,d,e,b?b:!1,f],this._handleImageData))};Dynamsoft.PdfReader.prototype.close=function(){return this._addTask(this._createTask("UnloadPdf",null,this._handleBooleanResult))};
Dynamsoft.PdfWriter=function(a,c,d){Dynamsoft.ImageIoBase.call(this,a,Dynamsoft.WasmEnv.pdfWriter,c,d);this._setPdfSettings=function(a){var b={version:15,compression:0,author:"",creationDate:"",creator:"",keywords:"",modifiedDate:"",producer:"",subject:"",title:"",quality:85,CreateOptions:{},LogOptions:{},UseMRC:0,ProductKey:"",Domain:"",Lossless:0};if(void 0!=a&&"object"===typeof a)for(var c in a)b[c]=a[c];return b}};Dynamsoft.PdfWriter.prototype=Object.create(Dynamsoft.ImageIoBase.prototype);
Dynamsoft.PdfWriter.prototype.constructor=Dynamsoft.PdfWriter;Dynamsoft.PdfWriter.prototype.initPdfSetting=function(a){var c=this._createTask("InitPdfWriter");c.params.input=JSON.stringify(this._setPdfSettings(a));c.handleResult=this._handleBooleanResult;return this._addTask(c)};Dynamsoft.PdfWriter.prototype.appendPage=function(a){var c=this,d=c._createTask("AddPageFromImageFileStream");c._readFile(a,d).then(function(a){d.params.input=a;d.handleResult=c._handleBooleanResult;c._addTask(d)});return d.promise};
Dynamsoft.PdfWriter.prototype.writePdf=function(a){var c=this._createTask("GetPdfContent");c.params.returnType=a?Dynamsoft.Enum_ReturnType.RT_BINARY:Dynamsoft.Enum_ReturnType.RT_AUTO;return this._addTask(c)};Dynamsoft.pdf=Dynamsoft.pdf||{};Dynamsoft.pdf.IsModuleInstalled=function(){return Dynamsoft.isWasmSupport()?Dynamsoft.WasmEnv.pdfReader.inited&&Dynamsoft.WasmEnv.pdfWriter.inited:!1};
Dynamsoft.WasmEnv.getLicenseInfo=function(a){function c(){(new Dynamsoft.PdfReader(Dynamsoft.WasmEnv.productKey)).terminate();(new Dynamsoft.PdfWriter(Dynamsoft.WasmEnv.productKey)).terminate()}Dynamsoft.WasmEnv.productKey=a;return new Promise(function(a,e){var b=new Dynamsoft.Imagecore(Dynamsoft.WasmEnv.productKey);b.getLicenseInfo().then(function(d){b.terminate();c();a(d)},function(a){b.terminate();c();e(a)})})};
Dynamsoft.WasmEnv.getWasmNames=function(){var a=[];a.push(Dynamsoft.conststring.core_wasm+Dynamsoft.WasmEnv.imgCore.ver+".wasm");a.push(Dynamsoft.conststring.pdfR_wasm+Dynamsoft.WasmEnv.pdfReader.ver+".wasm");a.push(Dynamsoft.conststring.pdfW_wasm+Dynamsoft.WasmEnv.pdfWriter.ver+".wasm");return a};
