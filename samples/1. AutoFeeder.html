<!DOCTYPE html>
<html>

<head>
	<title>Use Auto Feeder to scan</title>
	<script type="text/javascript" src="../dist/dynamsoft.webtwain.min.js"></script>
</head>

<body>
	<label>
		<input type="checkbox" id="ADF" checked="checked">Auto Feeder</label>
	<input type="button" value="Scan" onclick="AcquireImage();" />

	<!-- dwtcontrolContainer is the default div id for Dynamic Web TWAIN control.-->
	<div id="dwtcontrolContainer"></div>

	<script type="text/javascript">
		//Dynamsoft.WebTwainEnv.Containers = [{ ContainerId: 'dwtcontrolContainer',  Width:'583px', Height:'513px'}];
		//Dynamsoft.WebTwainEnv.ProductKey = 'Your-Product-Key-Goes-Here';
		//Dynamsoft.WebTwainEnv.Trial = true;
		//Dynamsoft.WebTwainEnv.ResourcesPath = 'https://tst.dynamsoft.com/libs/dwt/15.1';

		window.onload = function () {
			Dynamsoft.WebTwainEnv.Load();
		};
		Dynamsoft.WebTwainEnv.RegisterEvent('OnWebTwainReady', function () {
			DWObject = Dynamsoft.WebTwainEnv.GetWebTwain('dwtcontrolContainer');
		});

		function AcquireImage() {
			if (DWObject) {
				DWObject.SelectSource(function () {
					var OnAcquireImageSuccess, OnAcquireImageFailure;
					OnAcquireImageSuccess = OnAcquireImageFailure = function () {
						DWObject.CloseSource();
					};

					DWObject.OpenSource();
					DWObject.IfShowUI = false; //Disable scanner UI.
					DWObject.IfDisableSourceAfterAcquire =
						true; //Scanner source will be disabled automatically after scan.
					if (document.getElementById("ADF").checked) //Use auto feeder or use the flatbed
						DWObject.IfFeederEnabled = true; //Enbale Document Feeder
					else
						DWObject.IfFeederEnabled = false; //Disable Document Feeder

					if (document.getElementById("ADF").checked && DWObject.IfFeederEnabled ==
						true) // if paper is NOT loaded on the feeder
					{
						if (DWObject.IfFeederLoaded != true && DWObject.ErrorCode == 0) {
							if (confirm(
									"No paper detected on the feeder, do you want to scan from the flatbed instead?"))
								DWObject.IfFeederEnabled = false;
							else
								return;
						}
					}
					DWObject.AcquireImage(OnAcquireImageSuccess, OnAcquireImageFailure);
				}, function () {
					console.log('SelectSource failed!');
				});
			}
		}
	</script>
</body>

</html>